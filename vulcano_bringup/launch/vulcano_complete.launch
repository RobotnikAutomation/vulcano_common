<?xml version="1.0"?>
<launch>

    <arg name="arms" default="true" />
    <arg name="guidance" default="true" />

    <group ns="vulcano">
        <!-- things that have vulcano-specific code, such as the base  -->
        <include file="$(find vulcano_description)/launch/vulcano_state.launch" />

       
        <group ns="torso_guidance" if="$(arg guidance)">
            <include file="$(find vulcano_torso_hw)/launch/vulcano_torso_hw.launch" />
            <include file="$(find vulcano_torso_control)/launch/vulcano_torso_control.launch" />
        </group>       

        <group ns="left_arm" if="$(arg arms)">
            <include file="$(find vulcano_arm_control)/launch/ur10_controllers.launch" >
                <arg name="prefix" value="left_arm_" />
            </include>
            <include file="$(find vulcano_bringup)/launch/ur10_bringup_ros_control.launch" >
                <arg name="robot_ip" value="192.168.0.210" />
                <arg name="reverse_port" value="50001"/>
                <arg name="prefix" value="left_arm_" />
            </include>
        </group>

        <group ns="right_arm" if="$(arg arms)">
            <include file="$(find vulcano_arm_control)/launch/ur10_controllers.launch" >
                <arg name="prefix" value="right_arm_" />
            </include>
            <include file="$(find vulcano_bringup)/launch/ur10_bringup_ros_control.launch" >
                <arg name="robot_ip" value="192.168.0.211" />
                <arg name="reverse_port" value="50002" />
                <arg name="prefix" value="right_arm_" />
            </include>
        </group>

        <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" >
            <rosparam param="source_list">["left_arm/joint_states", "right_arm/joint_states", "torso_guidance/joint_states"]</rosparam> 
        </node>

        <!-- things that come from generic packages, such as the laser sensors, the io module... -->
        <include file="$(find vulcano_bringup)/launch/vulcano_multimaster.launch" />
 
    </group>
</launch>
